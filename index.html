<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Only for You 🤍</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=2026010101">
</head>
<body>
    <!-- Lock Screen -->
    <div id="lockScreen" class="screen active">
        <div class="lock-container">
            <h1 class="lock-title">Only for You</h1>
            <p class="lock-subtitle">"우리가 처음 시작한 날을 기억해?"</p>
            <input type="password" id="passwordInput" class="password-input" maxlength="4" placeholder="••••" autocomplete="off">
            <p class="lock-hint">힌트: 우리가 사귀기 시작한 날 (MMDD)</p>
            <p id="errorMsg" class="error-msg"></p>
        </div>
    </div>

    <!-- Main Screen (Menu) -->
    <div id="mainScreen" class="screen">
        <div class="main-container">
            <div class="main-content">
                <div class="dday-container">
                    <p class="dday-label">우리 함께한 지</p>
                    <h3 class="dday-number" id="ddayCount">0</h3>
                    <p class="dday-date">2025.09.04 ~</p>
                </div>
                <h2 class="main-title">"작은 비밀 공간을 하나 만들었어."</h2>
                <p class="main-subtitle">오직 너만을 위해.</p>
                <p class="main-text">"올해는 네가 웃는 모습으로 시작하고 싶었어."</p>
                
                <div class="menu-grid">
                    <button class="menu-btn" onclick="showSection('photosSection')">
                        <span class="menu-icon">📸</span>
                        <span class="menu-text">우리의 사진첩</span>
                    </button>
                    <button class="menu-btn" onclick="showSection('letterSection')">
                        <span class="menu-icon">💌</span>
                        <span class="menu-text">마음을 담은 편지</span>
                    </button>
                    <button class="menu-btn" onclick="showSection('letterSection2')">
                        <span class="menu-icon">✉️</span>
                        <span class="menu-text">우리의 편지함</span>
                    </button>
                    <button class="menu-btn" onclick="showCoupon()">
                        <span class="menu-icon">🎫</span>
                        <span class="menu-text">오늘 사용 가능한 쿠폰</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Photos Section -->
    <div id="photosSection" class="screen">
        <div class="section-container">
            <h2 class="section-title">우리의 작은 순간들</h2>
            <p class="section-date">월별로 정리했어</p>
            <p class="section-subtitle">"특별할 것 없어. 그냥 우리."</p>

            <div class="photo-filters">
                <button class="photo-filter-btn active" data-month="all" onclick="filterPhotos('all')">전체</button>
                <button class="photo-filter-btn" data-month="2025-11" onclick="filterPhotos('2025-11')">2025년 11월</button>
                <button class="photo-filter-btn" data-month="2025-12" onclick="filterPhotos('2025-12')">2025년 12월</button>
                <button class="photo-filter-btn" data-month="2026-01" onclick="filterPhotos('2026-01')">2026년 1월</button>
            </div>

            <div id="photosGroups">
                <!-- 사진들이 월별로 자동 추가됩니다 -->
            </div>
            
            <button class="btn-next" onclick="showSection('mainScreen')">홈으로 🏠</button>
        </div>
    </div>

    <!-- Letter Section -->
    <div id="letterSection" class="screen">
        <div class="section-container">
            <h2 class="section-title">새해를 맞이하며</h2>
            
            <div class="letter">
                <p>새해가 시작됐어.<br>새로운 시작, 새로운 우리.</p>
                
                <p>앞으로 어떤 일들이 기다리고 있을지 모르겠지만,<br>너랑 함께라면 다 좋을 것 같아.</p>
                
                <p>평범한 날들도.<br>특별한 순간들도.<br>모두 너와 함께하고 싶어.</p>
                
                <p class="letter-closing">2026년, 우리에게 더 많은 행복이 가득하길 🤍<br>새해 복 많이 받아, 사랑해.</p>
            </div>
            
            <button class="btn-next" onclick="showSection('mainScreen')">홈으로 🏠</button>
        </div>
    </div>

    <!-- Coupon Section -->
    <div id="couponSection" class="screen">
        <div class="section-container">
            <h2 class="section-title">🎫 오늘의 쿠폰</h2>
            <p class="section-subtitle">"하루 한 번, 오늘만 사용 가능해"</p>
            
            <div class="coupon-card">
                <div class="coupon-header">
                    <span class="coupon-badge">TODAY ONLY</span>
                    <span class="coupon-date" id="couponDate"></span>
                </div>
                <div class="coupon-content" id="couponContent">
                    <p class="coupon-text">클릭해서 쿠폰 뽑기!</p>
                </div>
                <button class="btn-coupon" onclick="drawCoupon()">쿠폰 뽑기 🎫</button>
            </div>
            
            <button class="btn-next" onclick="showSection('mainScreen')" style="margin-top: 30px;">홈으로 🏠</button>
        </div>
    </div>

    <!-- Letter Exchange Section -->
    <div id="letterSection2" class="screen">
        <div class="section-container">
            <h2 class="section-title">우리의 편지함 💌</h2>
            <p class="section-subtitle">"언제든 편지를 남겨줘"</p>
            
            <div class="letter-tabs">
                <button class="tab-btn active" onclick="showTab('write')">편지 쓰기</button>
                <button class="tab-btn" onclick="showTab('read')">편지 읽기</button>
            </div>
            
            <!-- Write Letter Tab -->
            <div id="writeTab" class="letter-tab active">
                <div class="letter-form">
                    <div class="letter-from-selector">
                        <label class="from-option">
                            <input type="radio" name="letterFrom" value="공주님 💖" checked>
                            <span>공주님 💖</span>
                        </label>
                        <label class="from-option">
                            <input type="radio" name="letterFrom" value="왕자님 💙">
                            <span>왕자님 💙</span>
                        </label>
                    </div>
                    <textarea id="letterContent" class="letter-textarea" placeholder="하고 싶은 말을 써줘..."></textarea>
                    <button class="btn-send" onclick="sendLetter()">편지 보내기 💌</button>
                </div>
            </div>
            
            <!-- Read Letters Tab -->
            <div id="readTab" class="letter-tab">
                <div id="lettersContainer" class="letters-list">
                    <p class="no-letters">아직 편지가 없어요</p>
                </div>
            </div>
            
            <button class="btn-next" onclick="showSection('mainScreen')" style="margin-top: 30px;">홈으로 🏠</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script src="script.js?v=2026021802"></script>
</body>
</html>
